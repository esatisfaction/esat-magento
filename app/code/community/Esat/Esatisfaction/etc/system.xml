<?xml version="1.0" encoding="UTF-8"?>
<config>
    <tabs>
        <esatisfaction>
            <label>e-satisfaction</label>
            <sort_order>100</sort_order>
        </esatisfaction>
    </tabs>
    <sections>
        <esatisfaction module="esatisfaction" translate="label,comment">
            <label>e-satisfaction Settings</label>
            <tab>esatisfaction</tab>
            <frontend_type>text</frontend_type>
            <sort_order>10</sort_order>
            <show_in_default>1</show_in_default>
            <groups>
                <application>
                    <label>Basic Settings</label>
                    <frontend_type>text</frontend_type>
                    <sort_order>10</sort_order>
                    <show_in_default>1</show_in_default>
                    <fields>
                        <status>
                            <label>Enabled</label>
                            <frontend_type>select</frontend_type>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <sort_order>10</sort_order>
                            <show_in_default>1</show_in_default>
                        </status>
                        <application_id>
                            <label>Application Id</label>
                            <frontend_type>text</frontend_type>
                            <sort_order>20</sort_order>
                            <show_in_default>1</show_in_default>
                            <comment>You must set an Application Id before you can use this extension.</comment>
                        </application_id>
                        <working_domain>
                            <label>Working Domain</label>
                            <frontend_type>text</frontend_type>
                            <sort_order>20</sort_order>
                            <show_in_default>1</show_in_default>
                            <comment>Set your e-satisfaction working domain.</comment>
                        </working_domain>
                        <jquery_installed>
                            <label>jQuery Installed?</label>
                            <comment>Select yes if your magento theme installation uses jQuery.</comment>
                            <frontend_type>select</frontend_type>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <sort_order>30</sort_order>
                            <show_in_default>1</show_in_default>
                        </jquery_installed>
                        <token>
                            <label>Token</label>
                            <comment>You must set an Authentication Token before you can use this extension. You can create a new token on your e-satisfaction user profile page.</comment>
                            <frontend_type>text</frontend_type>
                            <sort_order>40</sort_order>
                            <show_in_default>1</show_in_default>
                        </token>
                    </fields>
                </application>
                <checkout translate="label,comment">
                    <label>Flow Settings</label>
                    <frontend_type>text</frontend_type>
                    <sort_order>20</sort_order>
                    <show_in_default>1</show_in_default>
                    <fields>
                        <questionnaire_id>
                            <label>Checkout Questionnaire Id</label>
                            <comment>On your e-satisfaction.com questionnaire integration settings, set the integration type to "embedded" and the position to "#esat-checkout-questionnaire-container".</comment>
                            <frontend_type>select</frontend_type>
                            <source_model>esatisfaction/system_config_source_questionnaire</source_model>
                            <sort_order>10</sort_order>
                            <show_in_default>1</show_in_default>
                        </questionnaire_id>
                        <custom_flows>
                            <label>Custom Flows</label>
                            <comment>Enable this option to manually handle your questionnaire flow. Before enabling this, you should deactivate the flows in the e-satisfaction Dashboard.</comment>
                            <frontend_type>select</frontend_type>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <sort_order>20</sort_order>
                            <show_in_default>1</show_in_default>
                        </custom_flows>
                    </fields>
                </checkout>
                <delivery translate="label,comment">
                    <label>After Delivery Questionnaire</label>
                    <frontend_type>text</frontend_type>
                    <sort_order>30</sort_order>
                    <show_in_default>1</show_in_default>
                    <fields>
                        <questionnaire_id>
                            <label>Questionnaire</label>
                            <frontend_type>select</frontend_type>
                            <source_model>esatisfaction/system_config_source_questionnaire</source_model>
                            <sort_order>10</sort_order>
                            <show_in_default>1</show_in_default>
                            <depends>
                                <custom_flows>
                                    <fieldset>checkout</fieldset>
                                    <value>1</value>
                                </custom_flows>
                            </depends>
                        </questionnaire_id>
                        <pipeline_id>
                            <label>Pipeline</label>
                            <frontend_type>select</frontend_type>
                            <source_model>esatisfaction/system_config_source_delivery_pipeline</source_model>
                            <sort_order>20</sort_order>
                            <show_in_default>1</show_in_default>
                            <depends>
                                <custom_flows>
                                    <fieldset>checkout</fieldset>
                                    <value>1</value>
                                </custom_flows>
                            </depends>
                        </pipeline_id>
                        <days_after>
                            <label>Days after to send questionnaire</label>
                            <frontend_type>text</frontend_type>
                            <sort_order>30</sort_order>
                            <show_in_default>1</show_in_default>
                            <depends>
                                <custom_flows>
                                    <fieldset>checkout</fieldset>
                                    <value>1</value>
                                </custom_flows>
                            </depends>
                        </days_after>
                        <send_questionnaire>
                            <label>Order status(es) to send questionnaire</label>
                            <frontend_type>multiselect</frontend_type>
                            <source_model>esatisfaction/system_config_source_order_status</source_model>
                            <sort_order>40</sort_order>
                            <show_in_default>1</show_in_default>
                            <depends>
                                <custom_flows>
                                    <fieldset>checkout</fieldset>
                                    <value>1</value>
                                </custom_flows>
                            </depends>
                        </send_questionnaire>
                        <after_delivery>
                            <label>Condition to determine when it’s after delivery</label>
                            <frontend_type>multiselect</frontend_type>
                            <source_model>esatisfaction/system_config_source_shipping</source_model>
                            <sort_order>50</sort_order>
                            <show_in_default>1</show_in_default>
                            <depends>
                                <custom_flows>
                                    <fieldset>checkout</fieldset>
                                    <value>1</value>
                                </custom_flows>
                            </depends>
                        </after_delivery>
                        <cancel_questionnaire>
                            <label>Order status(es) to cancel questionnaire</label>
                            <frontend_type>multiselect</frontend_type>
                            <source_model>esatisfaction/system_config_source_order_status</source_model>
                            <sort_order>60</sort_order>
                            <show_in_default>1</show_in_default>
                            <depends>
                                <custom_flows>
                                    <fieldset>checkout</fieldset>
                                    <value>1</value>
                                </custom_flows>
                            </depends>
                        </cancel_questionnaire>
                    </fields>
                </delivery>
                <pickup translate="label,comment">
                    <label>Store Pick Up Questionnaire</label>
                    <frontend_type>text</frontend_type>
                    <sort_order>40</sort_order>
                    <show_in_default>1</show_in_default>
                    <fields>
                        <questionnaire_id>
                            <label>Questionnaire</label>
                            <frontend_type>select</frontend_type>
                            <source_model>esatisfaction/system_config_source_questionnaire</source_model>
                            <sort_order>10</sort_order>
                            <show_in_default>1</show_in_default>
                            <depends>
                                <custom_flows>
                                    <fieldset>checkout</fieldset>
                                    <value>1</value>
                                </custom_flows>
                            </depends>
                        </questionnaire_id>
                        <pipeline_id>
                            <label>Pipeline</label>
                            <frontend_type>select</frontend_type>
                            <source_model>esatisfaction/system_config_source_pickup_pipeline</source_model>
                            <sort_order>20</sort_order>
                            <show_in_default>1</show_in_default>
                            <depends>
                                <custom_flows>
                                    <fieldset>checkout</fieldset>
                                    <value>1</value>
                                </custom_flows>
                            </depends>
                        </pipeline_id>
                        <send_questionnaire>
                            <label>Order status(es) to send questionnaire</label>
                            <frontend_type>multiselect</frontend_type>
                            <source_model>esatisfaction/system_config_source_order_status</source_model>
                            <sort_order>40</sort_order>
                            <show_in_default>1</show_in_default>
                            <depends>
                                <custom_flows>
                                    <fieldset>checkout</fieldset>
                                    <value>1</value>
                                </custom_flows>
                            </depends>
                        </send_questionnaire>
                        <store_pickup>
                            <label>Condition to determine when it’s store pickup</label>
                            <frontend_type>multiselect</frontend_type>
                            <source_model>esatisfaction/system_config_source_shipping</source_model>
                            <sort_order>50</sort_order>
                            <show_in_default>1</show_in_default>
                            <depends>
                                <custom_flows>
                                    <fieldset>checkout</fieldset>
                                    <value>1</value>
                                </custom_flows>
                            </depends>
                        </store_pickup>
                        <cancel_questionnaire>
                            <label>Order status(es) to cancel questionnaire</label>
                            <frontend_type>multiselect</frontend_type>
                            <source_model>esatisfaction/system_config_source_order_status</source_model>
                            <sort_order>60</sort_order>
                            <show_in_default>1</show_in_default>
                            <depends>
                                <custom_flows>
                                    <fieldset>checkout</fieldset>
                                    <value>1</value>
                                </custom_flows>
                            </depends>
                        </cancel_questionnaire>
                    </fields>
                </pickup>
            </groups>
        </esatisfaction>
    </sections>
</config>
